# stages:
#   - build

# build-job:
#   stage: build
#   tags:
#     - GitLabRunner # AsegÃºrate de que tenga esta etiqueta que es del runner general
#   script:
#     - echo "Creando archivo de prueba..."
#     - echo "Este es un archivo de prueba." > test_file.txt from input
#     - echo "Archivo creado exitosamente. de nuevo  a ver si usa la instancia correcta"
image: debian:12

stages:
  - build

deploy_to_remote:
  stage: build
  before_script:
    - apt-get update -y
    - apt-get install -y openssh-client sshpass
  script:
    - echo "Desplegando al servidor remoto..."
    - sshpass -p "$ODOO_PASSWORD" scp \
        -o StrictHostKeyChecking=no \
        -r ./* \
        "$ODOO_USER@$ODOO_HOST:$DEST_PATH"
  only:
    - main

